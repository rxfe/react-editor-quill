!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("quill"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","quill","react-dom"],t):"object"==typeof exports?exports.ReactEditorQuill=t(require("react"),require("quill"),require("react-dom")):e.ReactEditorQuill=t(e.React,e.Quill,e.ReactDOM)}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EditorPluginCount=t.EditorPluginMention=void 0;var o=n(1);Object.defineProperty(t,"EditorPluginMention",{enumerable:!0,get:function(){return o.EditorPluginMention}});var i=n(9);Object.defineProperty(t,"EditorPluginCount",{enumerable:!0,get:function(){return i.EditorPluginCount}});var u=n(4),a=r(u),s=n(10),l=r(s),c=n(15),f=r(c),p=a.default.import("parchment");a.default.register({"blots/cursor":f.default},!0),p.register(f.default);var d=p.Attributor.Style,h={scope:p.Scope.INLINE};a.default.register(new d("size","font-size",h),!0),a.default.register(new d("font","font-family",h),!0),t.default=l.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o);t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@",n=e.lastIndexOf(t),r=void 0;return r=n!==-1&&e.substring(n+1)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),f=r(c),p=n(4),d=r(p),h=n(5),y=r(h),v=n(6),b=r(v),m=n(8),g=r(m),_=d.default.import("delta"),P={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,BACKSPACE:8,DELETE:46},O=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={mentionList:[],cursorPosition:{x:0,y:0},panelVisible:!1,panelIdx:0},n.selectItem=n.selectItem.bind(n),n}return u(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;(0,y.default)(d.default,"formats/mention")||d.default.register({"formats/mention":g.default}),(0,y.default)(d.default,"modules/mentions")||(this.quill=this.props.quill,this.quill.on("selection-change",this.handleDefaultKeyup.bind(this)),this.quill.root.addEventListener("blur",this.hidePanel.bind(this)),this.quill.root.addEventListener("keydown",this.onKeydown.bind(this)),this.quill.keyboard.bindings[13].unshift({key:13,shiftKey:null,handler:this.handleEnter.bind(this)}),this.quill.root.addEventListener("keyup",function(t){e.onKeyup(t)}))}},{key:"componentDidMount",value:function(){this.STORE={}}},{key:"componentDidUpdate",value:function(e,t){t.mentionList.length!==this.state.mentionList.length&&this.setState({panelVisible:this.state.mentionList.length>0}),!t.panelVisible&&this.state.panelVisible&&this.setState({panelIdx:0})}},{key:"onPanelKeyup",value:function(e){var t=this.state,n=t.panelVisible,r=t.panelIdx,o=t.mentionList;if(n){var i=o.length;switch(e.keyCode){case P.UP:this.setState({panelIdx:0===r?i-1:r-1});break;case P.DOWN:this.setState({panelIdx:r===i-1?0:r+1});break;case P.ENTER:break;default:this.setState({mentionList:[]})}}}},{key:"onKeydown",value:function(e){var t=this.state.panelVisible;switch(this.onPanelKeyup(e),e.keyCode){case P.UP:case P.DOWN:t&&(e.stopPropagation(),e.preventDefault());break;case P.ENTER:t&&(e.stopPropagation(),e.preventDefault())}}},{key:"onKeyup",value:function(e){var t=this.state.panelVisible;switch(e.keyCode){case P.UP:case P.DOWN:t&&e.preventDefault();break;case P.ENTER:break;default:this.handleDefaultKeyup(e)}}},{key:"setPanelPos",value:function(e){var t=this.quill.container.parentNode.getBoundingClientRect(),n={x:e.left-t.left,y:e.top-t.top+20};this.setState({cursorPosition:n})}},{key:"handleEnter",value:function(){var e=this.state,t=e.panelVisible,n=e.panelIdx,r=e.mentionList;return!t||(this.selectItem(r[n]),!1)}},{key:"matcher",value:function(e){var t=this.props,n=t.source,r=t.matchRange;this.setState({panelVisible:!1,mentionList:[]}),e.length>=r[0]&&e.length<=r[1]&&(Array.isArray(n)?this.next(n.filter(function(t){return t.indexOf(e)!==-1})):n(e,this.next.bind(this)))}},{key:"next",value:function(e){var t=e;this.props.formatter&&(t=this.props.formatter(t)),this.setState({mentionList:t})}},{key:"runMatcher",value:function(e){var t=this;this.matchTimer&&clearTimeout(this.matchTimer),this.matchTimer=setTimeout(function(){t.matcher(e)},this.props.delay)}},{key:"hidePanel",value:function(){var e=this;setTimeout(function(){e.setState({panelVisible:!1})},200)}},{key:"handleDefaultKeyup",value:function(e){if(!e)return void this.hidePanel();var t=this.props.delimiter,n=this.quill.selection,r=this.quill.getSelection(!0);if(!(r.length>0)){var o=n.getNativeRange();if(o&&o.native){var i=o.native;if(3===i.commonAncestorContainer.nodeType){var u=i.cloneRange();u.setStart(i.commonAncestorContainer,0);var s=u.toString(),l=a(s,t);if(this.runMatcher(l),l!==!1){var c=n.lastRange,f=n.getBounds(c.index);this.setPanelPos(f);var p=l.length+1;this.STORE.bookmark={index:n.lastRange.index-p,length:p}}}}}}},{key:"insertWithElementNode",value:function(e){this.quill.off("selection-change"),this.STORE.bookmark&&this.quill.selection.setRange(this.STORE.bookmark),this.quill.on("selection-change",this.handleDefaultKeyup.bind(this));var t=this.quill.getSelection(!0);this.quill.updateContents((new _).retain(t.index).delete(t.length).insert({mention:e}).insert(" ")),this.quill.setSelection(t.index+2,0)}},{key:"insertWithTextNode",value:function(e){this.quill.off("selection-change"),this.STORE.bookmark&&this.quill.selection.setRange(this.STORE.bookmark),this.quill.on("selection-change",this.handleDefaultKeyup.bind(this));var t=this.quill.getSelection(!0);this.quill.updateContents((new _).retain(t.index).delete(t.length).insert(e).insert(" ")),this.quill.setSelection(t.index+e.length+1,0)}},{key:"insert",value:function(e){var t=this.props.insertMode;switch(t){case"TEXT_NODE":this.insertWithTextNode(e);break;case"ELEMENT_NODE":default:this.insertWithElementNode(e)}}},{key:"insertMentionData",value:function(e){var t=this.props,n=t.mentionFormatter,r=t.onAdd,o=n(e);this.insert(o),r(o,e)}},{key:"selectItem",value:function(e){this.insertMentionData(e),this.setState({mentionList:[]})}},{key:"render",value:function(){var e=this,t={left:this.state.cursorPosition.x,top:this.state.cursorPosition.y},n=this.props,r=n.prefixCls,o=n.panelFormatter;return f.default.createElement("div",{ref:function(t){return e.targetEl=t}},f.default.createElement(b.default,{prefixCls:r,visible:this.state.panelVisible,idx:this.state.panelIdx,list:this.state.mentionList,onSelect:this.selectItem,formatter:o,style:t,ref:function(t){return e.panel=t}}))}}]),t}(c.Component);O.displayName="QuillMention",O.propTypes={delimiter:f.default.PropTypes.string,prefixCls:f.default.PropTypes.string,source:c.PropTypes.oneOfType([f.default.PropTypes.array,f.default.PropTypes.func]),delay:c.PropTypes.number,matchRange:c.PropTypes.arrayOf(c.PropTypes.number),formatter:c.PropTypes.func,mentionFormatter:c.PropTypes.func,panelFormatter:c.PropTypes.func,onChange:c.PropTypes.func,onAdd:c.PropTypes.func,insertMode:c.PropTypes.oneOf(["ELEMENT_NODE","TEXT_NODE"]),quill:c.PropTypes.objectOf(c.PropTypes.any)},O.defaultProps={delimiter:"@",prefixCls:"quill-mention",source:[],delay:100,matchRange:[0,20],formatter:function(e){return e},mentionFormatter:function(e){return"@"+e.text},panelFormatter:function(e){return""+e.text},onChange:function(){},onAdd:function(){},insertMode:"ELEMENT_NODE"},t.default=O,e.exports=t.default},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0;try{n=e.imports[t]}catch(e){n=null}return!!n},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=r(l),f=n(7),p=r(f),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.props.idx!==e.idx&&this.maybeScrollItemIntoView()}},{key:"maybeScrollItemIntoView",value:function(){var e=this.panel,t=this["item-"+this.props.idx];if(e&&t){var n=e.clientHeight,r=t.clientHeight,o=t.offsetTop,i=e.scrollTop,u=Math.abs(o-i)+r;(u>n||i>o)&&(e.scrollTop=o)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSelect,r=t.list,o=t.style,i=t.visible,u=t.idx,a=t.formatter,s=t.prefixCls,l={};l[s+"-panel"]=!0,l[s+"-panel-visible"]=i;var f=(0,p.default)(l);return c.default.createElement("ul",{className:f,style:o,ref:function(t){return e.panel=t}},r.map(function(t,r){var o={};o[s+"-panel-item"]=!0,o[s+"-panel-item-current"]=u===r;var i=(0,p.default)(o);return c.default.createElement("li",{className:i,key:t.id||r,ref:function(t){return e["item-"+r]=t},onClick:function(){return n(t)}},c.default.createElement("div",{dangerouslySetInnerHTML:{__html:a(t)}}))}))}}]),t}(c.default.Component);d.propTypes={prefixCls:l.PropTypes.string,list:l.PropTypes.arrayOf(l.PropTypes.any),style:l.PropTypes.objectOf(l.PropTypes.any),idx:l.PropTypes.number,visible:l.PropTypes.bool.isRequired,onSelect:l.PropTypes.func,formatter:l.PropTypes.func},d.defaultProps={prefixCls:"",list:[],style:{},idx:0,onSelect:function(){},formatter:""},t.default=d,e.exports=t.default},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var u in r)i.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=n(4),f=r(c),p=f.default.import("blots/embed"),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"format",value:function(e,n){"mention"===e&&n?this.domNode.dataset.value=n:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.value=e,n.setAttribute("type","button"),n.setAttribute("tabindex","-1"),n}},{key:"value",value:function(e){return e.value}}]),t}(p);d.blotName="mention",d.tagName="input",d.className="quill-mention-node",t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;return e.forEach(function(e){t+=e.insert&&"string"==typeof e.insert?e.insert.replace(/\s/g,"").length:1}),t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),f=r(c),p=function(e){var t=e.count,n=e.limit,r=n-t;return f.default.createElement("span",null,"已经输入"+t+"个字符,\n        "+(r<0?"超出了"+Math.abs(r):"还能输入"+r)+"\n      个字符")};p.propTypes={count:c.PropTypes.number.isRequired,limit:c.PropTypes.number.isRequired};var d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={count:0},n}return u(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;this.props.quill.on("text-change",function(){var t=a(e.props.quill.getContents());e.setState({count:t})})}},{key:"renderChildren",value:function(){var e=this.state.count,t=this.props.limit,n=this.props.children||f.default.createElement(p,{count:e,limit:t}),r={limit:t,count:e};return f.default.cloneElement(n,r)}},{key:"render",value:function(){return f.default.createElement("div",null,this.renderChildren())}}]),t}(c.Component);d.propTypes={quill:c.PropTypes.objectOf(c.PropTypes.any),limit:c.PropTypes.number,children:c.PropTypes.element},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),f=r(c),p=n(11),d=r(p),h=n(12),y=r(h),v=n(14),b=r(v),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.isControlled()?n.props.value:n.props.defaultValue;return n.state={generation:0,value:r},n}return u(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e,t){var n=this.editor;return!!n&&("value"in e&&((0,y.default)(e.value,this.getEditorContents())||this.setEditorContents(n,e.value)),"readOnly"in e&&e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(n,e.readOnly),!!this.shouldComponentRegenerate(e,t)&&this.regenerate())}},{key:"componentDidMount",value:function(){return this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig()),this.props.plugins&&this.renderPlugins(this.editor),this.quillDelta?(this.editor.setContents(this.quillDelta),this.editor.setSelection(this.quillSelection),this.editor.focus(),this.quillDelta=null,void(this.quillSelection=null)):void(this.state.value&&this.setEditorContents(this.editor,this.state.value))}},{key:"componentWillUnmount",value:function(){var e=this.getEditor();e&&(this.unhookEditor(e),this.editor=null)}},{key:"shouldComponentUpdate",value:function(e,n){var r=this;return this.state.generation!==n.generation||t.cleanProps.some(function(t){return!(0,y.default)(e[t],r.props[t])})}},{key:"shouldComponentRegenerate",value:function(e){var n=this;return t.dirtyProps.some(function(t){return!(0,y.default)(e[t],n.props[t])})}},{key:"componentWillUpdate",value:function(e,t){this.state.generation!==t.generation&&this.componentWillUnmount()}},{key:"componentDidUpdate",value:function(e,t){this.state.generation!==t.generation&&this.componentDidMount()}},{key:"getEditorConfig",value:function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,theme:this.props.theme}}},{key:"getEditor",value:function(){return this.editor}},{key:"getEditingArea",value:function(){return d.default.findDOMNode(this.editingArea)}},{key:"getEditorContents",value:function(){return this.state.value}},{key:"getEditorSelection",value:function(){return this.state.selection}},{key:"convertHtml",value:function(e){return Array.isArray(e)?e:this.editor.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+e+"<p><br></p></div>")}},{key:"renderPlugins",value:function(e){this.pluginsTarget&&d.default.render(f.default.createElement("div",null,f.default.Children.map(this.props.plugins,function(t){var n={quill:e};return f.default.cloneElement(t,n)})),this.pluginsTarget)}},{key:"regenerate",value:function(){this.quillDelta=this.editor.getContents(),this.quillSelection=this.editor.getSelection(),this.setState({generation:this.state.generation+1})}},{key:"isControlled",value:function(){return"value"in this.props}},{key:"focus",value:function(){this.editor.focus()}},{key:"onEditorChangeText",value:function(e,t,n,r){var o=this;t.ops!==this.getEditorContents()&&this.setState({value:t.ops},function(){o.props.onChange&&o.props.onChange(e,t,n,r)})}},{key:"onEditorChangeSelection",value:function(e,t,n){var r=this.getEditorSelection()||{},o=e||{};o.length===r.length&&o.index===r.index||(this.setState({selection:e}),this.props.onChangeSelection&&this.props.onChangeSelection(e,t,n))}},{key:"renderEditingArea",value:function(){var e=this,t=this.props.children,n={key:this.state.generation,ref:function(t){e.editingArea=t}},r=f.default.Children.count(t)?f.default.Children.only(t):null,o=r?f.default.cloneElement(r,n):f.default.DOM.div(n);return o}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{id:this.props.id,style:s({position:"relative"},this.props.style),key:this.state.generation,className:["quill"].concat(this.props.className).join(" ")},this.renderEditingArea(),f.default.createElement("div",{ref:function(t){return e.pluginsTarget=t}}))}}]),t}(b.default);m.propTypes={id:c.PropTypes.string,className:c.PropTypes.string,theme:c.PropTypes.string,style:c.PropTypes.objectOf(c.PropTypes.any),readOnly:c.PropTypes.bool,value:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.array]),defaultValue:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.array]),placeholder:c.PropTypes.string,bounds:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.element]),onKeyPress:c.PropTypes.func,onKeyDown:c.PropTypes.func,onKeyUp:c.PropTypes.func,onChange:c.PropTypes.func,onChangeSelection:c.PropTypes.func,modules:c.PropTypes.objectOf(c.PropTypes.any),formats:c.PropTypes.arrayOf(c.PropTypes.any),plugins:c.PropTypes.arrayOf(c.PropTypes.any),children:c.PropTypes.element},m.dirtyProps=["modules","formats","bounds","theme","children","plugins"],m.cleanProps=["id","className","style","placeholder","onKeyPress","onKeyDown","onKeyUp","onChange","onChangeSelection"],m.defaultProps={theme:"snow",modules:{}},t.default=m,e.exports=t.default},function(e,t){e.exports=n},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function o(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function u(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function a(e){return function(t){return e(t)}}function s(e,t){return e.has(t)}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function f(e,t){return function(n){return e(t(n))}}function p(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=Lt?Lt(null):{},this.size=0}function y(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function v(e){var t=this.__data__;if(Lt){var n=t[e];return n===_e?void 0:n}return gt.call(t,e)?t[e]:void 0}function b(e){var t=this.__data__;return Lt?void 0!==t[e]:gt.call(t,e)}function m(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Lt&&void 0===t?_e:t,this}function g(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(){this.__data__=[],this.size=0}function P(e){var t=this.__data__,n=K(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kt.call(t,n,1),--this.size,!0}function O(e){var t=this.__data__,n=K(t,e);return n<0?void 0:t[n][1]}function T(e){return K(this.__data__,e)>-1}function E(e,t){var n=this.__data__,r=K(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function j(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(){this.size=0,this.__data__={hash:new d,map:new(At||g),string:new d}}function k(e){var t=ee(this,e).delete(e);return this.size-=t?1:0,t}function w(e){return ee(this,e).get(e)}function x(e){return ee(this,e).has(e)}function C(e,t){var n=ee(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function M(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new j;++t<n;)this.add(e[t])}function q(e){return this.__data__.set(e,_e),this}function A(e){return this.__data__.has(e)}function R(e){var t=this.__data__=new g(e);this.size=t.size}function D(){this.__data__=new g,this.size=0}function N(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function L(e){return this.__data__.get(e)}function z(e){return this.__data__.has(e)}function I(e,t){var n=this.__data__;if(n instanceof g){var r=n.__data__;if(!At||r.length<ge-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new j(r)}return n.set(e,t),this.size=n.size,this}function U(e,t){var n=Qt(e),r=!n&&Ht(e),o=!n&&!r&&Xt(e),i=!n&&!r&&!o&&Gt(e),a=n||r||o||i,s=a?u(e.length,String):[],l=s.length;for(var c in e)!t&&!gt.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||re(c,l))||s.push(c);return s}function K(e,t){for(var n=e.length;n--;)if(le(e[n][0],t))return n;return-1}function V(e,t,n){var r=t(e);return Qt(e)?r:o(r,n(e))}function W(e){return null==e?void 0===e?Ve:Re:wt&&wt in Object(e)?ne(e):ae(e)}function F(e){return ye(e)&&W(e)==Ee}function B(e,t,n,r,o){return e===t||(null==e||null==t||!ye(e)&&!ye(t)?e!==e&&t!==t:$(e,t,n,r,B,o))}function $(e,t,n,r,o,i){var u=Qt(e),a=Qt(t),s=u?je:$t(e),l=a?je:$t(t);s=s==Ee?De:s,l=l==Ee?De:l;var c=s==De,f=l==De,p=s==l;if(p&&Xt(e)){if(!Xt(t))return!1;u=!0,c=!1}if(p&&!c)return i||(i=new R),u||Gt(e)?G(e,t,n,r,o,i):J(e,t,s,n,r,o,i);if(!(n&Pe)){var d=c&&gt.call(e,"__wrapped__"),h=f&&gt.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return i||(i=new R),o(y,v,n,r,i)}}return!!p&&(i||(i=new R),Y(e,t,n,r,o,i))}function H(e){if(!he(e)||ie(e))return!1;var t=pe(e)?Ot:nt;return t.test(se(e))}function Q(e){return ye(e)&&de(e.length)&&!!ot[W(e)]}function X(e){if(!ue(e))return Mt(e);var t=[];for(var n in Object(e))gt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function G(e,t,n,r,o,u){var a=n&Pe,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var p=-1,d=!0,h=n&Oe?new M:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var y=e[p],v=t[p];if(r)var b=a?r(v,y,p,t,e,u):r(y,v,p,e,t,u);if(void 0!==b){if(b)continue;d=!1;break}if(h){if(!i(t,function(e,t){if(!s(h,t)&&(y===e||o(y,e,n,r,u)))return h.push(t)})){d=!1;break}}else if(y!==v&&!o(y,v,n,r,u)){d=!1;break}}return u.delete(e),u.delete(t),d}function J(e,t,n,r,o,i,u){switch(n){case Be:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Fe:return!(e.byteLength!=t.byteLength||!i(new jt(e),new jt(t)));case ke:case we:case Ae:return le(+e,+t);case xe:return e.name==t.name&&e.message==t.message;case ze:case Ue:return e==t+"";case qe:var a=c;case Ie:var s=r&Pe;if(a||(a=p),e.size!=t.size&&!s)return!1;var l=u.get(e);if(l)return l==t;r|=Oe,u.set(e,t);var f=G(a(e),a(t),r,o,i,u);return u.delete(e),f;case Ke:if(Ft)return Ft.call(e)==Ft.call(t)}return!1}function Y(e,t,n,r,o,i){var u=n&Pe,a=Z(e),s=a.length,l=Z(t),c=l.length;if(s!=c&&!u)return!1;for(var f=s;f--;){var p=a[f];if(!(u?p in t:gt.call(t,p)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var h=!0;i.set(e,t),i.set(t,e);for(var y=u;++f<s;){p=a[f];var v=e[p],b=t[p];if(r)var m=u?r(b,v,p,t,e,i):r(v,b,p,e,t,i);if(!(void 0===m?v===b||o(v,b,n,r,i):m)){h=!1;break}y||(y="constructor"==p)}if(h&&!y){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return i.delete(e),i.delete(t),h}function Z(e){return V(e,ve,Bt)}function ee(e,t){var n=e.__data__;return oe(t)?n["string"==typeof t?"string":"hash"]:n.map}function te(e,t){var n=l(e,t);return H(n)?n:void 0}function ne(e){var t=gt.call(e,wt),n=e[wt];try{e[wt]=void 0;var r=!0}catch(e){}var o=Pt.call(e);return r&&(t?e[wt]=n:delete e[wt]),o}function re(e,t){return t=null==t?Te:t,!!t&&("number"==typeof e||rt.test(e))&&e>-1&&e%1==0&&e<t}function oe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ie(e){return!!_t&&_t in e}function ue(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||vt;return e===n}function ae(e){return Pt.call(e)}function se(e){if(null!=e){try{return mt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function le(e,t){return e===t||e!==e&&t!==t}function ce(e){return null!=e&&de(e.length)&&!pe(e)}function fe(e,t){return B(e,t)}function pe(e){if(!he(e))return!1;var t=W(e);return t==Ce||t==Me||t==Se||t==Le}function de(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Te}function he(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ye(e){return null!=e&&"object"==typeof e}function ve(e){return ce(e)?U(e):X(e)}function be(){return[]}function me(){return!1}var ge=200,_e="__lodash_hash_undefined__",Pe=1,Oe=2,Te=9007199254740991,Ee="[object Arguments]",je="[object Array]",Se="[object AsyncFunction]",ke="[object Boolean]",we="[object Date]",xe="[object Error]",Ce="[object Function]",Me="[object GeneratorFunction]",qe="[object Map]",Ae="[object Number]",Re="[object Null]",De="[object Object]",Ne="[object Promise]",Le="[object Proxy]",ze="[object RegExp]",Ie="[object Set]",Ue="[object String]",Ke="[object Symbol]",Ve="[object Undefined]",We="[object WeakMap]",Fe="[object ArrayBuffer]",Be="[object DataView]",$e="[object Float32Array]",He="[object Float64Array]",Qe="[object Int8Array]",Xe="[object Int16Array]",Ge="[object Int32Array]",Je="[object Uint8Array]",Ye="[object Uint8ClampedArray]",Ze="[object Uint16Array]",et="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,nt=/^\[object .+?Constructor\]$/,rt=/^(?:0|[1-9]\d*)$/,ot={};ot[$e]=ot[He]=ot[Qe]=ot[Xe]=ot[Ge]=ot[Je]=ot[Ye]=ot[Ze]=ot[et]=!0,ot[Ee]=ot[je]=ot[Fe]=ot[ke]=ot[Be]=ot[we]=ot[xe]=ot[Ce]=ot[qe]=ot[Ae]=ot[De]=ot[ze]=ot[Ie]=ot[Ue]=ot[We]=!1;var it="object"==typeof e&&e&&e.Object===Object&&e,ut="object"==typeof self&&self&&self.Object===Object&&self,at=it||ut||Function("return this")(),st="object"==typeof t&&t&&!t.nodeType&&t,lt=st&&"object"==typeof n&&n&&!n.nodeType&&n,ct=lt&&lt.exports===st,ft=ct&&it.process,pt=function(){try{return ft&&ft.binding&&ft.binding("util")}catch(e){}}(),dt=pt&&pt.isTypedArray,ht=Array.prototype,yt=Function.prototype,vt=Object.prototype,bt=at["__core-js_shared__"],mt=yt.toString,gt=vt.hasOwnProperty,_t=function(){var e=/[^.]+$/.exec(bt&&bt.keys&&bt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pt=vt.toString,Ot=RegExp("^"+mt.call(gt).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=ct?at.Buffer:void 0,Et=at.Symbol,jt=at.Uint8Array,St=vt.propertyIsEnumerable,kt=ht.splice,wt=Et?Et.toStringTag:void 0,xt=Object.getOwnPropertySymbols,Ct=Tt?Tt.isBuffer:void 0,Mt=f(Object.keys,Object),qt=te(at,"DataView"),At=te(at,"Map"),Rt=te(at,"Promise"),Dt=te(at,"Set"),Nt=te(at,"WeakMap"),Lt=te(Object,"create"),zt=se(qt),It=se(At),Ut=se(Rt),Kt=se(Dt),Vt=se(Nt),Wt=Et?Et.prototype:void 0,Ft=Wt?Wt.valueOf:void 0;d.prototype.clear=h,d.prototype.delete=y,d.prototype.get=v,d.prototype.has=b,d.prototype.set=m,g.prototype.clear=_,g.prototype.delete=P,g.prototype.get=O,g.prototype.has=T,g.prototype.set=E,j.prototype.clear=S,j.prototype.delete=k,j.prototype.get=w,j.prototype.has=x,j.prototype.set=C,M.prototype.add=M.prototype.push=q,M.prototype.has=A,R.prototype.clear=D,R.prototype.delete=N,R.prototype.get=L,R.prototype.has=z,R.prototype.set=I;var Bt=xt?function(e){return null==e?[]:(e=Object(e),r(xt(e),function(t){return St.call(e,t)}))}:be,$t=W;(qt&&$t(new qt(new ArrayBuffer(1)))!=Be||At&&$t(new At)!=qe||Rt&&$t(Rt.resolve())!=Ne||Dt&&$t(new Dt)!=Ie||Nt&&$t(new Nt)!=We)&&($t=function(e){var t=W(e),n=t==De?e.constructor:void 0,r=n?se(n):"";if(r)switch(r){case zt:return Be;case It:return qe;case Ut:return Ne;case Kt:return Ie;case Vt:return We}return t});var Ht=F(function(){return arguments}())?F:function(e){return ye(e)&&gt.call(e,"callee")&&!St.call(e,"callee")},Qt=Array.isArray,Xt=Ct||me,Gt=dt?a(dt):Q;n.exports=fe}).call(t,function(){return this}(),n(13)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=r(l),f=n(4),p=r(f),d=n(12),h=r(d),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"setEditorSelection",value:function(e,t){var n=t;if(n){var r=e.getLength();n.index=Math.max(0,Math.min(n.index,r-1)),n.length=Math.max(0,Math.min(n.length,r-1-n.index))}e.setSelection(n)}},{key:"setEditorContents",value:function(e,t){var n=this.convertHtml(t);if(!(0,h.default)(n,e.getContents())){var r=e.getSelection();e.setContents(n||[]),r&&this.setEditorSelection(e,r)}}},{key:"setEditorReadOnly",value:function(e,t){t?e.disable():e.enable()}},{key:"createEditor",value:function(e,t){var n=new p.default(e,t);return this.hookEditor(n),n}},{key:"hookEditor",value:function(e){var t=this,n=this.makeUnprivilegedEditor(e);this.handleTextChange=function(r,o,i){t.onEditorChangeText&&(t.onEditorChangeText(e.root.innerHTML,r,i,n),t.onEditorChangeSelection(e.getSelection(),i,n))},this.handleSelectionChange=function(e,t,r){this.onEditorChangeSelection&&this.onEditorChangeSelection(e,r,n)}.bind(this),e.on("text-change",this.handleTextChange),e.on("selection-change",this.handleSelectionChange)}},{key:"unhookEditor",value:function(e){e.off("selection-change"),e.off("editor-change")}},{key:"makeUnprivilegedEditor",value:function(e){var t=e.getLength,n=e.getText,r=e.getContents,o=e.getSelection,i=e.getBounds;return{getLength:function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(e,r)},getText:function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.apply(e,r)},getContents:function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(e,n)},getSelection:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return o.apply(e,n)},getBounds:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.apply(e,n)}}}}]),t}(c.default.Component);t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),u=i.default.import("blots/cursor"),a=u.prototype.restore;u.prototype.restore=function(){try{var e=this.selection.composing;this.selection.composing=!1,a.call(this),this.selection.composing=e}catch(e){return void console.log(e)}},t.default=u,e.exports=t.default}])});